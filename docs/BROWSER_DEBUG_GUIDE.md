# 浏览器远程调试使用指南

## 概述

本工具现在支持使用您当前正在使用的浏览器（如Comet、Chrome、Edge等）来打开小红书登录页面，而不是创建新的浏览器实例。

## 支持的浏览器

- **Comet** (优先支持)
- **Google Chrome**
- **Microsoft Edge**
- **Brave Browser**
- **Opera**

## 启用远程调试功能

### 方法一：自动启动（推荐）

系统会自动尝试启动您的浏览器并启用远程调试功能。如果您的浏览器支持，系统会自动处理。

### 方法二：手动启动

如果自动启动失败，您可以手动启动浏览器并启用远程调试：

#### macOS (Comet浏览器)

```bash
# 启动Comet浏览器并启用远程调试
open -a "Comet" --args --remote-debugging-port=9222
```

#### macOS (Chrome浏览器)

```bash
# 启动Chrome浏览器并启用远程调试
open -a "Google Chrome" --args --remote-debugging-port=9222
```

#### Windows

```bash
# 启动Chrome浏览器并启用远程调试
start chrome --remote-debugging-port=9222
```

#### Linux

```bash
# 启动Chrome浏览器并启用远程调试
google-chrome --remote-debugging-port=9222
```

## 使用步骤

1. **启动服务**：运行小红书下载工具
2. **点击登录**：在Web界面点击"登录小红书"按钮
3. **自动检测**：系统会自动检测您当前使用的浏览器
4. **连接浏览器**：系统会尝试连接到您的浏览器
5. **打开登录页面**：在您的浏览器中打开小红书登录页面
6. **完成登录**：在浏览器中完成登录操作
7. **自动检测**：系统会自动检测登录状态

## 故障排除

### 问题1：无法连接到浏览器

**解决方案**：
1. 确保您的浏览器支持远程调试功能
2. 检查是否有其他程序占用了9222端口
3. 尝试手动启动浏览器并启用远程调试

### 问题2：Comet浏览器无法连接

**解决方案**：
1. 确保Comet浏览器已安装
2. 尝试使用Chrome浏览器作为备选
3. 检查Comet浏览器是否支持远程调试

### 问题3：浏览器没有自动打开

**解决方案**：
1. 检查浏览器是否已安装
2. 确保浏览器支持命令行参数
3. 尝试手动启动浏览器

## 技术说明

- 系统会尝试连接多个调试端口：9222, 9223, 9224, 9225
- 按优先级尝试连接：Comet → Chrome → Edge → Brave → Opera
- 如果无法连接到用户浏览器，系统会创建新的浏览器实例
- 支持macOS、Windows、Linux多平台

## 安全提示

- 远程调试功能仅在本地使用，不会暴露到外网
- 调试端口仅在本地回环地址（127.0.0.1）上监听
- 使用完毕后，浏览器会自动关闭调试功能

## 更新日志

- **v2.0.7**: 新增用户当前浏览器登录功能
- 支持Comet、Chrome、Edge、Brave、Opera等浏览器
- 智能检测和连接用户浏览器
- 提供详细的连接状态反馈
